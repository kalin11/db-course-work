{"ast":null,"code":"var _jsxFileName = \"/home/kalin/WebstormProjects/tinkoff-backend-academy-frontend/src/components/items/FeedItem.js\",\n  _s = $RefreshSig$();\nimport axios from \"../../config/axios\";\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FeedItem = ({\n  authorName,\n  publicationId,\n  publicationTitle,\n  handleClick\n}) => {\n  _s();\n  const handle = () => {\n    handleClick(publicationId);\n  };\n  const [isAdmin, setIsAdmin] = useState(false);\n  useEffect(() => {\n    if (JSON.parse(sessionStorage.getItem('user')) === null) {\n      setIsAdmin(false);\n    } else if (JSON.parse(sessionStorage.getItem('user')).role === 'Администратор') {\n      setIsAdmin(true);\n    }\n  }, []);\n  const deletePublication = () => {\n    return axios.delete('/publications/' + publicationId, {\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\"\n      },\n      withCredentials: true\n    }).then(response => {\n      return response.data;\n    }).catch(error => {\n      return error.response.data;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-[100px] min-w-[900px] max-w-[80vw] mx-auto justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-auto mb-3 justify-items-center w-[80%] overflow-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center block p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mb-2 text-5xl font-bold tracking-tight text-gray-900 dark:text-white\",\n          children: publicationTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"mb-2 text-2xl tracking-tight text-gray-900 dark:text-white\",\n          children: [\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435: \", publicationDesc]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"mb-2 text-2xl tracking-tight text-gray-900 dark:text-white\",\n          children: [\"\\u0414\\u0430\\u0442\\u0430 \\u0441\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u044F: \", publicationCreatedAt]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: files.map(file => {\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"cursor-pointer hover:bg-sky-300 text-2 tracking-tight text-gray-900 dark:text-white\",\n                onClick: () => downloadFile(file),\n                children: file.initial_file_name\n              }, file.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 41\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n};\n_s(FeedItem, \"Zkrc/jvYeP+Lg60sj9ov6ALel5o=\");\n_c = FeedItem;\nexport default FeedItem;\nvar _c;\n$RefreshReg$(_c, \"FeedItem\");","map":{"version":3,"names":["axios","useEffect","useState","jsxDEV","_jsxDEV","FeedItem","authorName","publicationId","publicationTitle","handleClick","_s","handle","isAdmin","setIsAdmin","JSON","parse","sessionStorage","getItem","role","deletePublication","delete","headers","withCredentials","then","response","data","catch","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","publicationDesc","publicationCreatedAt","files","map","file","onClick","downloadFile","initial_file_name","id","_c","$RefreshReg$"],"sources":["/home/kalin/WebstormProjects/tinkoff-backend-academy-frontend/src/components/items/FeedItem.js"],"sourcesContent":["import axios from \"../../config/axios\";\nimport {useEffect, useState} from \"react\";\n\nconst FeedItem = ({authorName, publicationId, publicationTitle, handleClick}) => {\n\n    const handle = () => {\n        handleClick(publicationId);\n    }\n\n    const [isAdmin, setIsAdmin] = useState(false);\n\n    useEffect(() => {\n        if (JSON.parse(sessionStorage.getItem('user')) === null) {\n            setIsAdmin(false);\n        }\n        else if (JSON.parse(sessionStorage.getItem('user')).role === 'Администратор') {\n            setIsAdmin(true);\n        }\n    }, []);\n\n    const deletePublication = () => {\n        return axios\n            .delete('/publications/' + publicationId, {\n                headers: {\n                    \"Access-Control-Allow-Origin\": \"*\"\n                },\n                withCredentials: true\n            })\n            .then((response) => {\n                return response.data;\n            })\n            .catch((error) => {\n                return error.response.data;\n            })\n    }\n\n    return (\n        <div className=\"mt-[100px] min-w-[900px] max-w-[80vw] mx-auto justify-center\">\n            <div className=\"mx-auto mb-3 justify-items-center w-[80%] overflow-auto\">\n                <div\n                    className=\"text-center block p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700\">\n                    <h3 className=\"mb-2 text-5xl font-bold tracking-tight text-gray-900 dark:text-white\">{publicationTitle}</h3>\n                    <h6 className=\"mb-2 text-2xl tracking-tight text-gray-900 dark:text-white\">Описание: {publicationDesc}</h6>\n                    <h6 className=\"mb-2 text-2xl tracking-tight text-gray-900 dark:text-white\">Дата\n                        создания: {publicationCreatedAt}</h6>\n                    <div>\n                        <ul>\n                            {\n                                files.map((file) => {\n                                    return (\n                                        <li key={file.id}\n                                            className=\"cursor-pointer hover:bg-sky-300 text-2 tracking-tight text-gray-900 dark:text-white\"\n                                            onClick={() => downloadFile(file)}>{file.initial_file_name}</li>\n                                    )\n                                })\n                            }\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    )\n\n}\n\nexport default FeedItem;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}