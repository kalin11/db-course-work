{"ast":null,"code":"import Button from\"../buttons/Button\";import{useState}from\"react\";import axios from\"../../config/axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SubjectForm=_ref=>{let{courseNumber}=_ref;const[subjectTitle,setSubjectTitle]=useState('');const createNewSubject=event=>{event.preventDefault();console.log(subjectTitle);if(subjectTitle===''){alert('Почему название предмета пустое?');return false;}else{return axios.post('/subjects',{course_number:courseNumber,name:subjectTitle},{headers:{\"Access-Control-Allow-Origin\":\"*\"},withCredentials:true}).then(response=>{return response.data;}).catch(error=>{if(error.response.status===403){console.log(\"Недостаточно прав\");}console.log(error.response.data);return error.response.data;});}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-w-[900px] max-w-[80vw] mx-auto flex justify-center\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"border-2 border-purple-300\",type:\"text\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430\",id:\"subjectName\",value:subjectTitle,onChange:e=>setSubjectTitle(e.target.value)})}),/*#__PURE__*/_jsx(Button,{text:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043F\\u0440\\u0435\\u0434\\u043C\\u0435\\u0442\",handleButton:createNewSubject})]})});};export default SubjectForm;","map":{"version":3,"names":["Button","useState","axios","jsx","_jsx","jsxs","_jsxs","SubjectForm","_ref","courseNumber","subjectTitle","setSubjectTitle","createNewSubject","event","preventDefault","console","log","alert","post","course_number","name","headers","withCredentials","then","response","data","catch","error","status","className","children","type","placeholder","id","value","onChange","e","target","text","handleButton"],"sources":["/home/kalin/WebstormProjects/tinkoff-backend-academy-frontend/src/components/form/SubjectForm.js"],"sourcesContent":["import Button from \"../buttons/Button\";\nimport {useState} from \"react\";\nimport axios from \"../../config/axios\";\n\nconst SubjectForm = ({courseNumber}) => {\n\n    const [subjectTitle, setSubjectTitle] = useState('');\n\n\n    const createNewSubject = (event) => {\n        event.preventDefault();\n        console.log(subjectTitle);\n        if (subjectTitle === '') {\n            alert('Почему название предмета пустое?');\n            return false;\n        } else {\n            return axios\n                .post('/subjects',\n                    {\n                        course_number: courseNumber,\n                        name: subjectTitle\n                    },\n                    {\n                        headers: {\n                            \"Access-Control-Allow-Origin\": \"*\"\n                        },\n                        withCredentials: true\n                    }\n                )\n                .then((response) => {\n                    return response.data;\n                })\n                .catch((error) => {\n                    if (error.response.status === 403) {\n                        console.log(\"Недостаточно прав\");\n                    }\n                    console.log(error.response.data);\n                    return error.response.data;\n                });\n        }\n\n    }\n\n    return (\n        <div className=\"min-w-[900px] max-w-[80vw] mx-auto flex justify-center\">\n            <form>\n                <label>\n                    <input className=\"border-2 border-purple-300\" type=\"text\" placeholder=\"Название продукта\"\n                           id=\"subjectName\" value={subjectTitle} onChange={e => setSubjectTitle(e.target.value)}/>\n                </label>\n                <Button text=\"Создать предмет\" handleButton={createNewSubject}/>\n            </form>\n        </div>\n    )\n}\n\nexport default SubjectForm;"],"mappings":"AAAA,MAAO,CAAAA,MAAM,KAAM,mBAAmB,CACtC,OAAQC,QAAQ,KAAO,OAAO,CAC9B,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvC,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAoB,IAAnB,CAACC,YAAY,CAAC,CAAAD,IAAA,CAE/B,KAAM,CAACE,YAAY,CAAEC,eAAe,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAGpD,KAAM,CAAAW,gBAAgB,CAAIC,KAAK,EAAK,CAChCA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtBC,OAAO,CAACC,GAAG,CAACN,YAAY,CAAC,CACzB,GAAIA,YAAY,GAAK,EAAE,CAAE,CACrBO,KAAK,CAAC,kCAAkC,CAAC,CACzC,MAAO,MAAK,CAChB,CAAC,IAAM,CACH,MAAO,CAAAf,KAAK,CACPgB,IAAI,CAAC,WAAW,CACb,CACIC,aAAa,CAAEV,YAAY,CAC3BW,IAAI,CAAEV,YACV,CAAC,CACD,CACIW,OAAO,CAAE,CACL,6BAA6B,CAAE,GACnC,CAAC,CACDC,eAAe,CAAE,IACrB,CACJ,CAAC,CACAC,IAAI,CAAEC,QAAQ,EAAK,CAChB,MAAO,CAAAA,QAAQ,CAACC,IAAI,CACxB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,EAAK,CACd,GAAIA,KAAK,CAACH,QAAQ,CAACI,MAAM,GAAK,GAAG,CAAE,CAC/Bb,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC,CACpC,CACAD,OAAO,CAACC,GAAG,CAACW,KAAK,CAACH,QAAQ,CAACC,IAAI,CAAC,CAChC,MAAO,CAAAE,KAAK,CAACH,QAAQ,CAACC,IAAI,CAC9B,CAAC,CAAC,CACV,CAEJ,CAAC,CAED,mBACIrB,IAAA,QAAKyB,SAAS,CAAC,wDAAwD,CAAAC,QAAA,cACnExB,KAAA,SAAAwB,QAAA,eACI1B,IAAA,UAAA0B,QAAA,cACI1B,IAAA,UAAOyB,SAAS,CAAC,4BAA4B,CAACE,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,mGAAmB,CAClFC,EAAE,CAAC,aAAa,CAACC,KAAK,CAAExB,YAAa,CAACyB,QAAQ,CAAEC,CAAC,EAAIzB,eAAe,CAACyB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAC,CAAC,CAC3F,CAAC,cACR9B,IAAA,CAACJ,MAAM,EAACsC,IAAI,CAAC,uFAAiB,CAACC,YAAY,CAAE3B,gBAAiB,CAAC,CAAC,EAC9D,CAAC,CACN,CAAC,CAEd,CAAC,CAED,cAAe,CAAAL,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}