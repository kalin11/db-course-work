{"ast":null,"code":"import{useEffect,useState}from\"react\";import axios from\"../../config/axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SubjectItem=_ref=>{let{subjectId,subjectName,handleClick}=_ref;const[isAdmin,setIsAdmin]=useState(false);const[isAnonymous,setIsAnonymous]=useState(false);const handle=()=>{handleClick(subjectId);};const deleteSubject=()=>{return axios.delete('/subjects/'+subjectId,{headers:{\"Access-Control-Allow-Origin\":\"*\"},withCredentials:true}).then(response=>{return response.data;}).catch(error=>{return error.response;});};useEffect(()=>{if(JSON.parse(sessionStorage.getItem('user'))===null){setIsAdmin(false);setIsAnonymous(true);}else{if(JSON.parse(sessionStorage.getItem('user')).role==='Администратор'){setIsAdmin(true);setIsAnonymous(false);}}},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"cursor-pointer mx-auto mb-3 justify-items-center w-[80%]\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:handle,className:\"text-center block p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white\",children:subjectName})}),isAdmin&&/*#__PURE__*/_jsx(\"div\",{className:\"flex mr-auto\",onClick:deleteSubject,children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"})]},subjectId);};export default SubjectItem;","map":{"version":3,"names":["useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","SubjectItem","_ref","subjectId","subjectName","handleClick","isAdmin","setIsAdmin","isAnonymous","setIsAnonymous","handle","deleteSubject","delete","headers","withCredentials","then","response","data","catch","error","JSON","parse","sessionStorage","getItem","role","className","children","onClick"],"sources":["/home/kalin/WebstormProjects/tinkoff-backend-academy-frontend/src/components/items/SubjectItem.js"],"sourcesContent":["import {useEffect, useState} from \"react\";\nimport axios from \"../../config/axios\";\n\nconst SubjectItem = ({subjectId, subjectName, handleClick}) => {\n\n    const [isAdmin, setIsAdmin] = useState(false);\n    const [isAnonymous, setIsAnonymous] = useState(false);\n\n    const handle = () => {\n        handleClick(subjectId);\n    }\n\n    const deleteSubject = () => {\n        return axios\n            .delete('/subjects/' + subjectId,\n                {\n                    headers: {\n                        \"Access-Control-Allow-Origin\": \"*\"\n                    },\n                    withCredentials: true\n                }\n            )\n            .then((response) => {\n                return response.data;\n            })\n            .catch((error) => {\n                return error.response;\n            })\n    }\n\n    useEffect(() => {\n        if (JSON.parse(sessionStorage.getItem('user')) === null) {\n            setIsAdmin(false);\n            setIsAnonymous(true);\n        } else {\n            if (JSON.parse(sessionStorage.getItem('user')).role === 'Администратор') {\n                setIsAdmin(true);\n                setIsAnonymous(false);\n            }\n        }\n    }, []);\n\n    return (\n        <div className=\"cursor-pointer mx-auto mb-3 justify-items-center w-[80%]\" key={subjectId}>\n            <div onClick={handle}\n                 className=\"text-center block p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700\">\n                <h5 className=\"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white\">{subjectName}</h5>\n            </div>\n            {\n                isAdmin &&\n                <div className=\"flex mr-auto\" onClick={deleteSubject}>\n                    Удалить\n                </div>\n            }\n        </div>\n    )\n}\n\nexport default SubjectItem;"],"mappings":"AAAA,OAAQA,SAAS,CAAEC,QAAQ,KAAO,OAAO,CACzC,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvC,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAA2C,IAA1C,CAACC,SAAS,CAAEC,WAAW,CAAEC,WAAW,CAAC,CAAAH,IAAA,CAEtD,KAAM,CAACI,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACa,WAAW,CAAEC,cAAc,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAErD,KAAM,CAAAe,MAAM,CAAGA,CAAA,GAAM,CACjBL,WAAW,CAACF,SAAS,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAQ,aAAa,CAAGA,CAAA,GAAM,CACxB,MAAO,CAAAf,KAAK,CACPgB,MAAM,CAAC,YAAY,CAAGT,SAAS,CAC5B,CACIU,OAAO,CAAE,CACL,6BAA6B,CAAE,GACnC,CAAC,CACDC,eAAe,CAAE,IACrB,CACJ,CAAC,CACAC,IAAI,CAAEC,QAAQ,EAAK,CAChB,MAAO,CAAAA,QAAQ,CAACC,IAAI,CACxB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,EAAK,CACd,MAAO,CAAAA,KAAK,CAACH,QAAQ,CACzB,CAAC,CAAC,CACV,CAAC,CAEDtB,SAAS,CAAC,IAAM,CACZ,GAAI0B,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,GAAK,IAAI,CAAE,CACrDhB,UAAU,CAAC,KAAK,CAAC,CACjBE,cAAc,CAAC,IAAI,CAAC,CACxB,CAAC,IAAM,CACH,GAAIW,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACC,IAAI,GAAK,eAAe,CAAE,CACrEjB,UAAU,CAAC,IAAI,CAAC,CAChBE,cAAc,CAAC,KAAK,CAAC,CACzB,CACJ,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIT,KAAA,QAAKyB,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACrE5B,IAAA,QAAK6B,OAAO,CAAEjB,MAAO,CAChBe,SAAS,CAAC,wJAAwJ,CAAAC,QAAA,cACnK5B,IAAA,OAAI2B,SAAS,CAAC,sEAAsE,CAAAC,QAAA,CAAEtB,WAAW,CAAK,CAAC,CACtG,CAAC,CAEFE,OAAO,eACPR,IAAA,QAAK2B,SAAS,CAAC,cAAc,CAACE,OAAO,CAAEhB,aAAc,CAAAe,QAAA,CAAC,4CAEtD,CAAK,CAAC,GATiEvB,SAW1E,CAAC,CAEd,CAAC,CAED,cAAe,CAAAF,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}