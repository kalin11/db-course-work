{"ast":null,"code":"import Header from\"../components/headers/Header\";import Button from\"../components/buttons/Button\";import{useNavigate}from\"react-router-dom\";import{useEffect,useState}from\"react\";import axios from\"../config/axios\";import FeedItem from\"../components/items/FeedItem\";import Modal from\"../components/modal/Modal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Feed=()=>{const navigate=useNavigate();const[posts,setPosts]=useState([]);const[pageNumber,setPageNumber]=useState(1);const[pageSize,setPageSize]=useState(10);const[totalPages,setTotalPages]=useState(0);const[fetching,setFetching]=useState(true);const[isAdmin,setIsAdmin]=useState(false);const[isModerator,setIsModerator]=useState(false);const[isAnonymous,setIsAnonymous]=useState(true);const[open,setOpen]=useState(false);const[publicationTitle,setPublicationTitle]=useState('');const[publicationDesc,setPublicationDesc]=useState('');const[files,setFiles]=useState([]);const goToCourses=()=>{navigate('/courses');};const scrollHandler=e=>{if(e.target.documentElement.scrollHeight-(e.target.documentElement.scrollTop+window.innerHeight)<100&&totalPages===posts.length){setFetching(true);}};useEffect(()=>{if(JSON.parse(sessionStorage.getItem('user'))===null){setIsAdmin(false);setIsModerator(false);setIsAnonymous(true);}else{if(JSON.parse(sessionStorage.getItem('user')).role==='Администратор'){setIsAdmin(true);setIsAnonymous(false);}else if(JSON.parse(sessionStorage.getItem('user')).role==='Модератор'){setIsModerator(true);setIsAnonymous(false);}}},[]);useEffect(()=>{if(fetching){axios.get('/news_publications',{params:{pageNumber:pageNumber-1,pageSize:pageSize},headers:{\"Access-Control-Allow-Origin\":\"*\"},withCredentials:true}).then(response=>{setPosts([...posts,...response.data.content]);setPageNumber(prevState=>prevState+1);setTotalPages(response.data.total_pages);}).finally(()=>setFetching(false));}},[fetching]);useEffect(()=>{document.addEventListener('scroll',scrollHandler);return function(){document.removeEventListener('scroll',scrollHandler);};},[]);const handleButton=()=>{setOpen(true);};const handleFiles=event=>{let selectedFiles=event.target.files;const validFiles=[];const validExtension=['jpg','png','pdf'];const maxSize=5*1024*1024;for(let i=0;i<selectedFiles.length;i++){const file=selectedFiles[i];const fileExtension=file.name.split('.').pop().toLowerCase();if(!validExtension.includes(fileExtension)){alert(\"\\\"\\u0424\\u0430\\u0439\\u043B \".concat(file.name,\" \\u0438\\u043C\\u0435\\u0435\\u0442 \\u043D\\u0435\\u0432\\u0435\\u0440\\u043D\\u043E\\u0435 \\u0440\\u0430\\u0441\\u0448\\u0438\\u0440\\u0435\\u043D\\u0438\\u0435. \\u0414\\u043E\\u043F\\u0443\\u0441\\u0442\\u0438\\u043C\\u044B\\u0435 \\u0440\\u0430\\u0441\\u0448\\u0438\\u0440\\u0435\\u043D\\u0438\\u044F: \").concat(validExtension.join(', '),\"\\\"\"));continue;}if(file.size>maxSize){alert(\"\\\"\\u0424\\u0430\\u0439\\u043B \".concat(file.name,\" \\u043F\\u0440\\u0435\\u0432\\u044B\\u0448\\u0430\\u0435\\u0442 \\u0434\\u043E\\u043F\\u0443\\u0441\\u0442\\u0438\\u043C\\u044B\\u0439 \\u0440\\u0430\\u0437\\u043C\\u0435\\u0440 (5 MB).\\\"\"));continue;}validFiles.push(file);}setFiles(validFiles);console.log(validFiles);};const handleNewNews=()=>{const formData=new FormData();if(publicationTitle===''){alert(\"Почему название поста пустое?\");return false;}else if(publicationDesc===''){alert(\"Добавьте описание поста\");return false;}else{formData.append('title',publicationTitle);formData.append('description',publicationDesc);for(let i=0;i<files.length;i++){formData.append('files',files[i]);}return axios.post('/news_publications',formData,{headers:{\"Access-Control-Allow-Origin\":\"*\"},withCredentials:true}).then(response=>{setOpen(false);return response.data;}).catch(error=>{if(error.response.status===403){if(error.response.message===\"У вас недостаточно прав для выполнения данного действия\"){console.log(\"Недостаточно прав\");}else return axios.post('/auth/logout',null,{headers:{\"Access-Control-Allow-Origin\":\"*\"},withCredentials:true}).then(response=>{sessionStorage.clear();navigate('/');return response.data;}).catch(error=>{return error;});}console.log(error.response.data);return error.response.data;});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-col\",children:[(isAdmin||isModerator)&&!isAnonymous&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{text:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043D\\u043E\\u0432\\u043E\\u0441\\u0442\\u044C\",handleButton:handleButton})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-[85%]\",children:/*#__PURE__*/_jsx(Button,{text:\"\\u041D\\u0430\\u0439\\u0442\\u0438 \\u043D\\u0443\\u0436\\u043D\\u044B\\u0439 \\u043C\\u0430\\u0442\\u0435\\u0440\\u0438\\u0430\\u043B\",handleButton:goToCourses})})]}),/*#__PURE__*/_jsx(Modal,{open:open,onClose:()=>setOpen(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto my-4 max-w-[75%]\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-black text-gray-800\",children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u043E\\u0441\\u0442\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"mx-auto w-[200px] text-center flex justify-center mb-3 mt-3 bg-gray-200 rounded\",type:\"text\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430\",id:\"subjectName\",value:publicationTitle,onChange:e=>setPublicationTitle(e.target.value)})}),/*#__PURE__*/_jsx(\"textarea\",{className:\"mb-3 mt-3 rounded bg-gray-200 w-[100%] justify-center\",value:publicationDesc,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\",onChange:e=>setPublicationDesc(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,className:\"flex justify-center mb-3 mt-3\",onChange:e=>handleFiles(e)}),/*#__PURE__*/_jsx(Button,{text:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\",handleButton:handleNewNews})]})]})}),/*#__PURE__*/_jsx(\"div\",{children:posts.map(post=>{return/*#__PURE__*/_jsx(FeedItem,{description:post.description,createdAt:post.created_at,newsId:post.id,newsTitle:post.title,files:post.files});})})]});};export default Feed;","map":{"version":3,"names":["Header","Button","useNavigate","useEffect","useState","axios","FeedItem","Modal","jsx","_jsx","jsxs","_jsxs","Feed","navigate","posts","setPosts","pageNumber","setPageNumber","pageSize","setPageSize","totalPages","setTotalPages","fetching","setFetching","isAdmin","setIsAdmin","isModerator","setIsModerator","isAnonymous","setIsAnonymous","open","setOpen","publicationTitle","setPublicationTitle","publicationDesc","setPublicationDesc","files","setFiles","goToCourses","scrollHandler","e","target","documentElement","scrollHeight","scrollTop","window","innerHeight","length","JSON","parse","sessionStorage","getItem","role","get","params","headers","withCredentials","then","response","data","content","prevState","total_pages","finally","document","addEventListener","removeEventListener","handleButton","handleFiles","event","selectedFiles","validFiles","validExtension","maxSize","i","file","fileExtension","name","split","pop","toLowerCase","includes","alert","concat","join","size","push","console","log","handleNewNews","formData","FormData","append","post","catch","error","status","message","clear","children","className","text","onClose","type","placeholder","id","value","onChange","multiple","map","description","createdAt","created_at","newsId","newsTitle","title"],"sources":["/home/kalin/IdeaProjects/tinkoff-project-develop/src/frontend/src/pages/Feed.js"],"sourcesContent":["import Header from \"../components/headers/Header\";\nimport Button from \"../components/buttons/Button\";\nimport {useNavigate} from \"react-router-dom\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"../config/axios\";\nimport FeedItem from \"../components/items/FeedItem\";\nimport Modal from \"../components/modal/Modal\";\n\nconst Feed = () => {\n\n    const navigate = useNavigate();\n\n    const [posts, setPosts] = useState([]);\n\n    const [pageNumber, setPageNumber] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [totalPages, setTotalPages] = useState(0);\n\n    const [fetching, setFetching] = useState(true);\n\n    const [isAdmin, setIsAdmin] = useState(false);\n    const [isModerator, setIsModerator] = useState(false);\n    const [isAnonymous, setIsAnonymous] = useState(true);\n\n    const [open, setOpen] = useState(false);\n\n    const [publicationTitle, setPublicationTitle] = useState('');\n    const [publicationDesc, setPublicationDesc] = useState('');\n    const [files, setFiles] = useState([]);\n\n\n    const goToCourses = () => {\n        navigate('/courses');\n    }\n\n    const scrollHandler = (e) => {\n        if (e.target.documentElement.scrollHeight - (e.target.documentElement.scrollTop + window.innerHeight) < 100\n            && totalPages === posts.length) {\n            setFetching(true);\n        }\n    }\n\n    useEffect(() => {\n        if (JSON.parse(sessionStorage.getItem('user')) === null) {\n            setIsAdmin(false);\n            setIsModerator(false);\n            setIsAnonymous(true);\n        } else {\n            if (JSON.parse(sessionStorage.getItem('user')).role === 'Администратор') {\n                setIsAdmin(true);\n                setIsAnonymous(false);\n            } else if (JSON.parse(sessionStorage.getItem('user')).role === 'Модератор') {\n                setIsModerator(true);\n                setIsAnonymous(false);\n            }\n        }\n\n    }, []);\n\n    useEffect(() => {\n        if (fetching) {\n            axios\n                .get('/news_publications',\n                    {\n                        params: {\n                            pageNumber: pageNumber - 1,\n                            pageSize: pageSize,\n                        },\n                        headers: {\n                            \"Access-Control-Allow-Origin\": \"*\"\n                        },\n                        withCredentials: true\n                    }\n                )\n                .then(response => {\n                    setPosts([...posts, ...response.data.content]);\n                    setPageNumber(prevState => prevState + 1);\n                    setTotalPages(response.data.total_pages);\n                })\n                .finally(() => setFetching(false));\n        }\n    }, [fetching]);\n\n    useEffect(() => {\n        document.addEventListener('scroll', scrollHandler);\n\n        return function () {\n            document.removeEventListener('scroll', scrollHandler);\n        }\n    }, []);\n\n    const handleButton = () => {\n        setOpen(true);\n    }\n\n    const handleFiles = (event) => {\n        let selectedFiles = event.target.files;\n        const validFiles = [];\n        const validExtension = ['jpg', 'png', 'pdf'];\n        const maxSize = 5 * 1024 * 1024;\n        for (let i = 0; i < selectedFiles.length; i++) {\n            const file = selectedFiles[i];\n            const fileExtension = file.name.split('.').pop().toLowerCase();\n\n            if (!validExtension.includes(fileExtension)) {\n                alert(`\"Файл ${file.name} имеет неверное расширение. Допустимые расширения: ${validExtension.join(', ')}\"`);\n                continue;\n            }\n\n            if (file.size > maxSize) {\n                alert(`\"Файл ${file.name} превышает допустимый размер (5 MB).\"`);\n                continue;\n            }\n            validFiles.push(file);\n        }\n\n        setFiles(validFiles);\n        console.log(validFiles);\n\n    }\n\n    const handleNewNews = () => {\n        const formData = new FormData();\n        if (publicationTitle === '') {\n            alert(\"Почему название поста пустое?\");\n            return false;\n        } else if (publicationDesc === '') {\n            alert(\"Добавьте описание поста\");\n            return false;\n        } else {\n            formData.append('title', publicationTitle);\n            formData.append('description', publicationDesc);\n\n            for (let i = 0; i < files.length; i++) {\n                formData.append('files', files[i]);\n            }\n\n            return axios\n                .post('/news_publications', formData, {\n                    headers: {\n                        \"Access-Control-Allow-Origin\": \"*\"\n                    },\n                    withCredentials: true\n                })\n                .then((response) => {\n                    setOpen(false);\n                    return response.data;\n                })\n                .catch((error) => {\n                    if (error.response.status === 403) {\n                        if (error.response.message === \"У вас недостаточно прав для выполнения данного действия\") {\n                            console.log(\"Недостаточно прав\");\n                        } else return axios\n                            .post('/auth/logout', null, {\n                                headers: {\n                                    \"Access-Control-Allow-Origin\": \"*\"\n                                },\n                                withCredentials: true\n                            })\n                            .then((response) => {\n                                sessionStorage.clear();\n                                navigate('/');\n                                return response.data;\n                            })\n                            .catch((error) => {\n                                return error;\n                            })\n\n                    }\n                    console.log(error.response.data);\n                    return error.response.data;\n                });\n        }\n\n    }\n\n\n\n    return (\n        <div>\n            <Header/>\n            <div className=\"flex-col\">\n                {\n                    (isAdmin || isModerator) && !isAnonymous &&\n                    <div>\n                        <Button text=\"Создать новость\" handleButton={handleButton}/>\n                    </div>\n                }\n                <div className=\"ml-[85%]\">\n                <Button text=\"Найти нужный материал\" handleButton={goToCourses}/>\n                </div>\n            </div>\n            <Modal open={open} onClose={() => setOpen(false)}>\n                <div className=\"text-center items-center\">\n                    <div className=\"mx-auto my-4 max-w-[75%]\">\n                        <h3 className=\"text-lg font-black text-gray-800\">Добавить новый пост</h3>\n                    </div>\n                    <div>\n                        <label>\n                            <input\n                                className=\"mx-auto w-[200px] text-center flex justify-center mb-3 mt-3 bg-gray-200 rounded\"\n                                type=\"text\" placeholder=\"Название продукта\"\n                                id=\"subjectName\" value={publicationTitle}\n                                onChange={e => setPublicationTitle(e.target.value)}/>\n                        </label>\n                        <textarea className=\"mb-3 mt-3 rounded bg-gray-200 w-[100%] justify-center\"\n                                  value={publicationDesc} placeholder=\"Введите описание\"\n                                  onChange={e => setPublicationDesc(e.target.value)}/>\n                        <input type=\"file\" multiple className=\"flex justify-center mb-3 mt-3\"\n                               onChange={e => handleFiles(e)}/>\n                        <Button text=\"Создать\" handleButton={handleNewNews}/>\n                    </div>\n                </div>\n            </Modal>\n            <div>\n                {\n                    posts.map((post) => {\n                        return (\n                            <FeedItem description={post.description}\n                                      createdAt={post.created_at}\n                                      newsId={post.id}\n                                      newsTitle={post.title}\n                                      files={post.files}\n                            />\n                        )\n                    })\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Feed;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}