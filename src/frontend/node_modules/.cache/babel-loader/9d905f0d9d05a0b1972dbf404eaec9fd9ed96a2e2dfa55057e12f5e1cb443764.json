{"ast":null,"code":"import axios from\"../../config/axios\";import{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import CommentItem from\"./CommentItem\";import Button from\"../buttons/Button\";import Modal from\"../modal/Modal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const FeedItem=_ref=>{let{newsId,createdAt,description,nickname,newsTitle,files}=_ref;const navigate=useNavigate();const[isAdmin,setIsAdmin]=useState(false);const[comments,setComments]=useState([]);const[pageNumber,setPageNumber]=useState(1);const[pageSize,setPageSize]=useState(5);const[totalPages,setTotalPages]=useState(-1);const[open,setOpen]=useState(false);const[commentContent,setCommentContent]=useState('');const[anonymous,setAnonymous]=useState(false);useEffect(()=>{if(JSON.parse(sessionStorage.getItem('user'))===null){setIsAdmin(false);}else if(JSON.parse(sessionStorage.getItem('user')).role==='Администратор'){setIsAdmin(true);}},[]);const deleteNews=()=>{return axios.delete('/publications/'+newsId,{headers:{\"Access-Control-Allow-Origin\":\"*\"},withCredentials:true}).then(response=>{return response.data;}).catch(error=>{return error.response.data;});};const downloadFile=file=>{return axios.get('/files/'+file.file_name_in_directory,{responseType:'blob',headers:{\"Access-Control-Allow-Origin\":\"*\"},withCredentials:true}).then(response=>{const url=URL.createObjectURL(response.data);const a=document.createElement(\"a\");a.href=url;a.download=file.initial_file_name;a.style.display='none';document.body.appendChild(a);a.click();a.remove();URL.revokeObjectURL(url);}).catch(error=>{if(error.response.message===\"У вас недостаточно прав для выполнения данного действия\"){console.log(error.response);}else return axios.post('/auth/logout',null,{headers:{\"Access-Control-Allow-Origin\":\"*\"},withCredentials:true}).then(response=>{sessionStorage.clear();navigate('/');return response.data;}).catch(error=>{return error;});});};const handleButton=()=>{setOpen(true);};const handleAnonymous=()=>{setAnonymous(!anonymous);};const handleNewComment=()=>{setOpen(false);if(commentContent===''){alert(\"Комментарий не может быть пустым\");return false;}else{return axios.post('/comments',{content:commentContent,publication_id:parseInt(newsId),is_anonymous:anonymous},{headers:{\"Access-Control-Allow-Origin\":\"*\"},withCredentials:true}).then(response=>{return response.data;}).catch(error=>{if(error.response.message===\"У вас недостаточно прав для выполнения данного действия\"){console.log(error.response);}else return axios.post('/auth/logout',null,{headers:{\"Access-Control-Allow-Origin\":\"*\"},withCredentials:true}).then(response=>{sessionStorage.clear();navigate('/');return response.data;}).catch(error=>{return error;});});}};const getCommentsForNews=()=>{axios.get('/comments',{params:{publicationId:newsId,pageNumber:pageNumber-1,pageSize:pageSize},headers:{\"Access-Control-Allow-Origin\":\"*\"},withCredentials:true}).then(response=>{setComments([...comments,...response.data.content]);setPageNumber(prevState=>prevState+1);setTotalPages(response.data.total_size);});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-[100px] min-w-[900px] max-w-[80vw] mx-auto justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto mb-3 justify-items-center w-[80%] overflow-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center block p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-2 text-5xl font-bold tracking-tight text-gray-900 dark:text-white\",children:newsTitle}),/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-2 text-2xl tracking-tight text-gray-900 dark:text-white\",children:[\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435: \",description]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-2 text-2xl tracking-tight text-gray-900 dark:text-white\",children:[\"\\u0414\\u0430\\u0442\\u0430 \\u0441\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u044F: \",createdAt]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"ul\",{children:files.map(file=>{return/*#__PURE__*/_jsx(\"li\",{className:\"cursor-pointer hover:bg-sky-300 text-2 tracking-tight text-gray-900 dark:text-white\",onClick:()=>downloadFile(file),children:file.initial_file_name},file.id);})})}),/*#__PURE__*/_jsx(\"div\",{children:comments.map(comment=>{return/*#__PURE__*/_jsx(CommentItem,{commentId:comment.id,createdDate:comment.created_at,lastUpdatedAt:comment.last_updated_at,comment:comment.content,username:comment.nickname,parentCommentId:comment.id},comment.id);})}),(totalPages===-1||totalPages!==comments.length)&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{text:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0438\",handleButton:getCommentsForNews})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Modal,{open:open,onClose:()=>setOpen(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto my-4 max-w-[75%]\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-black text-gray-800\",children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u044B\\u0439 \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"mb-3 mt-3 rounded bg-gray-200 w-[100%] justify-center\",value:commentContent,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\",onChange:e=>setCommentContent(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"anonymous\",className:\"mr-2\",onChange:handleAnonymous}),/*#__PURE__*/_jsx(\"label\",{for:\"anonymous\",children:\"\\u0410\\u043D\\u043E\\u043D\\u0438\\u043C\\u043D\\u043E\"})]}),/*#__PURE__*/_jsx(Button,{text:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\",handleButton:handleNewComment})]})]})}),sessionStorage.getItem('user')!==null&&/*#__PURE__*/_jsx(Button,{text:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043D\\u043E\\u0432\\u044B\\u0439 \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\",handleButton:handleButton})]})]}),isAdmin&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{text:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u043E\\u0441\\u0442\\u044C\",handleButton:deleteNews})})]})})});};export default FeedItem;","map":{"version":3,"names":["axios","useEffect","useState","useNavigate","CommentItem","Button","Modal","jsx","_jsx","jsxs","_jsxs","FeedItem","_ref","newsId","createdAt","description","nickname","newsTitle","files","navigate","isAdmin","setIsAdmin","comments","setComments","pageNumber","setPageNumber","pageSize","setPageSize","totalPages","setTotalPages","open","setOpen","commentContent","setCommentContent","anonymous","setAnonymous","JSON","parse","sessionStorage","getItem","role","deleteNews","delete","headers","withCredentials","then","response","data","catch","error","downloadFile","file","get","file_name_in_directory","responseType","url","URL","createObjectURL","a","document","createElement","href","download","initial_file_name","style","display","body","appendChild","click","remove","revokeObjectURL","message","console","log","post","clear","handleButton","handleAnonymous","handleNewComment","alert","content","publication_id","parseInt","is_anonymous","getCommentsForNews","params","publicationId","prevState","total_size","children","className","map","onClick","id","comment","commentId","createdDate","created_at","lastUpdatedAt","last_updated_at","username","parentCommentId","length","text","onClose","value","placeholder","onChange","e","target","type","for"],"sources":["/home/kalin/WebstormProjects/tinkoff-backend-academy-frontend/src/components/items/FeedItem.js"],"sourcesContent":["import axios from \"../../config/axios\";\nimport {useEffect, useState} from \"react\";\nimport {useNavigate} from \"react-router-dom\";\nimport CommentItem from \"./CommentItem\";\nimport Button from \"../buttons/Button\";\nimport Modal from \"../modal/Modal\";\n\nconst FeedItem = ({newsId, createdAt, description, nickname, newsTitle, files}) => {\n\n    const navigate = useNavigate();\n    const [isAdmin, setIsAdmin] = useState(false);\n    const [comments, setComments] = useState([]);\n\n    const [pageNumber, setPageNumber] = useState(1);\n    const [pageSize, setPageSize] = useState(5);\n    const [totalPages, setTotalPages] = useState(-1);\n    const [open, setOpen] = useState(false);\n\n    const [commentContent, setCommentContent] = useState('');\n\n    const [anonymous, setAnonymous] = useState(false);\n\n    useEffect(() => {\n        if (JSON.parse(sessionStorage.getItem('user')) === null) {\n            setIsAdmin(false);\n        } else if (JSON.parse(sessionStorage.getItem('user')).role === 'Администратор') {\n            setIsAdmin(true);\n        }\n    }, []);\n\n    const deleteNews = () => {\n        return axios\n            .delete('/publications/' + newsId, {\n                headers: {\n                    \"Access-Control-Allow-Origin\": \"*\"\n                },\n                withCredentials: true\n            })\n            .then((response) => {\n                return response.data;\n            })\n            .catch((error) => {\n                return error.response.data;\n            })\n    }\n\n    const downloadFile = (file) => {\n        return axios\n            .get('/files/' + file.file_name_in_directory,\n                {\n                    responseType: 'blob',\n                    headers: {\n                        \"Access-Control-Allow-Origin\": \"*\"\n                    },\n                    withCredentials: true\n                }\n            )\n            .then((response) => {\n                const url = URL.createObjectURL(response.data);\n                const a = document.createElement(\"a\");\n                a.href = url;\n                a.download = file.initial_file_name;\n                a.style.display = 'none';\n                document.body.appendChild(a);\n                a.click();\n                a.remove();\n                URL.revokeObjectURL(url);\n            })\n            .catch((error) => {\n                if (error.response.message === \"У вас недостаточно прав для выполнения данного действия\") {\n                    console.log(error.response);\n                } else return axios\n                    .post('/auth/logout', null, {\n                        headers: {\n                            \"Access-Control-Allow-Origin\": \"*\"\n                        },\n                        withCredentials: true\n                    })\n                    .then((response) => {\n                        sessionStorage.clear();\n                        navigate('/');\n                        return response.data;\n                    })\n                    .catch((error) => {\n                        return error;\n                    })\n            })\n    }\n\n    const handleButton = () => {\n        setOpen(true);\n    }\n\n\n    const handleAnonymous = () => {\n        setAnonymous(!anonymous);\n    }\n\n\n    const handleNewComment = () => {\n        setOpen(false);\n        if (commentContent === '') {\n            alert(\"Комментарий не может быть пустым\");\n            return false;\n        } else {\n            return axios\n                .post('/comments',\n                    {\n                        content: commentContent,\n                        publication_id: parseInt(newsId),\n                        is_anonymous: anonymous\n                    },\n                    {\n                        headers: {\n                            \"Access-Control-Allow-Origin\": \"*\"\n                        },\n                        withCredentials: true\n                    }\n                )\n                .then((response) => {\n                    return response.data;\n                })\n                .catch((error) => {\n                    if (error.response.message === \"У вас недостаточно прав для выполнения данного действия\") {\n                        console.log(error.response);\n                    } else return axios\n                        .post('/auth/logout', null, {\n                            headers: {\n                                \"Access-Control-Allow-Origin\": \"*\"\n                            },\n                            withCredentials: true\n                        })\n                        .then((response) => {\n                            sessionStorage.clear();\n                            navigate('/');\n                            return response.data;\n                        })\n                        .catch((error) => {\n                            return error;\n                        })\n                })\n        }\n    }\n\n\n    const getCommentsForNews = () => {\n        axios\n            .get('/comments', {\n                params: {\n                    publicationId: newsId,\n                    pageNumber: pageNumber - 1,\n                    pageSize: pageSize\n                },\n                headers: {\n                    \"Access-Control-Allow-Origin\": \"*\"\n                },\n                withCredentials: true\n            })\n            .then((response) => {\n                setComments([...comments, ...response.data.content]);\n                setPageNumber(prevState => prevState + 1);\n                setTotalPages(response.data.total_size);\n            })\n    }\n\n    return (\n        <div>\n            <div className=\"mt-[100px] min-w-[900px] max-w-[80vw] mx-auto justify-center\">\n                <div className=\"mx-auto mb-3 justify-items-center w-[80%] overflow-auto\">\n                    <div\n                        className=\"text-center block p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700\">\n                        <h3 className=\"mb-2 text-5xl font-bold tracking-tight text-gray-900 dark:text-white\">{newsTitle}</h3>\n                        <h6 className=\"mb-2 text-2xl tracking-tight text-gray-900 dark:text-white\">Описание: {description}</h6>\n                        <h6 className=\"mb-2 text-2xl tracking-tight text-gray-900 dark:text-white\">Дата\n                            создания: {createdAt}</h6>\n                        <div>\n                            <ul>\n                                {\n                                    files.map((file) => {\n                                        return (\n                                            <li key={file.id}\n                                                className=\"cursor-pointer hover:bg-sky-300 text-2 tracking-tight text-gray-900 dark:text-white\"\n                                                onClick={() => downloadFile(file)}>{file.initial_file_name}</li>\n                                        )\n                                    })\n                                }\n                            </ul>\n                        </div>\n                        <div>\n                            {\n                                comments.map((comment) => {\n                                    return (\n                                        <CommentItem commentId={comment.id}\n                                                     key={comment.id}\n                                                     createdDate={comment.created_at}\n                                                     lastUpdatedAt={comment.last_updated_at}\n                                                     comment={comment.content}\n                                                     username={comment.nickname}\n                                                     parentCommentId={comment.id}\n                                        />\n                                    )\n                                })\n                            }\n                        </div>\n                        {(totalPages === -1 || totalPages !== comments.length) &&\n                            <div>\n                                <Button text=\"Загрузить комментарии\" handleButton={getCommentsForNews}/>\n                            </div>\n                        }\n                        <div>\n                            <Modal open={open} onClose={() => setOpen(false)}>\n                                <div className=\"text-center items-center\">\n                                    <div className=\"mx-auto my-4 max-w-[75%]\">\n                                        <h3 className=\"text-lg font-black text-gray-800\">Добавить новый комментарий</h3>\n                                    </div>\n                                    <div>\n                                        <textarea className=\"mb-3 mt-3 rounded bg-gray-200 w-[100%] justify-center\"\n                                                  value={commentContent} placeholder=\"Введите описание\"\n                                                  onChange={e => setCommentContent(e.target.value)}/>\n                                        <div className=\"flex justify-center\">\n                                            <input type=\"checkbox\" id=\"anonymous\" className=\"mr-2\"\n                                                   onChange={handleAnonymous}/>\n                                            <label for=\"anonymous\">Анонимно</label>\n                                        </div>\n                                        <Button text=\"Создать\" handleButton={handleNewComment}/>\n                                    </div>\n                                </div>\n                            </Modal>\n\n                            {\n                                (sessionStorage.getItem('user') !== null) &&\n                                <Button text=\"Создать новый комментарий\" handleButton={handleButton}/>\n                            }\n                        </div>\n                    </div>\n                    {isAdmin &&\n                        <div>\n                            <Button text=\"Удалить новость\" handleButton={deleteNews}/>\n                        </div>\n                    }\n                </div>\n            </div>\n        </div>\n\n    )\n\n}\n\nexport default FeedItem;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}